<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="pragma" content="no-cache">
    <meta http-equiv="Cache-Control" content="no-cache, must-revalidate">
    <meta http-equiv="expires" content="0">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title set-lan="html:Title">DataList</title>

    <link href="../../../../css/plugins/jQueryUI/jquery-ui.min.css" rel="stylesheet" />
    <link href="../../../../css/plugins/bootstrap/bootstrap.min.css?v=3.3.6" rel="stylesheet">
    <link href="../../../../css/plugins/bootstrapvalidator/bootstrapValidator.css" rel="stylesheet" />
    <link href="../../../../css/plugins/sweetalert/sweetalert.css" rel="stylesheet" />
    <link href="../../../../css/plugins/bootstrapTable/bootstrap-table.min.css" rel="stylesheet" />
    <link href="../../../../Scripts/plugins/layui/css/layui.css" rel="stylesheet" />
    <style type="text/css">
        @media(max-width:1599px) {
            #GTPanel {
                margin: 0 auto;
                width: calc((100% - 30px));
            }
        }

        body {
            background: #EEF4FB
        }

        .table {
            table-layout: fixed;
        }

        table, td, th {
            margin: 0;
            padding: 0;
            vertical-align: middle;
            text-align: left;
            border-color: #BFC9D5 !important;
            font-size: xx-small;
            background: #DFEBF5 !important;
        }

        thead th {
            font-size: 8px;
            font-weight: inherit !important;
            line-height: 19px;
            padding: 0 5px 2px;
            text-align: center;
            background: #DBE0E4 !important;
            --background: white !important;
            --color: white;
        }

        .nodatabox {
            display: table;
            width: 60%;
            text-align: center;
            color: #777;
            vertical-align: middle;
            text-align: center;
        }

        .container {
            margin: 0;
            width: calc((100% - 30px));
        }

        .nodatabox img {
            width: 50%;
        }

        .mustflag {
            color: red;
        }
    </style>
</head>
<body class="full-height">
    <div id="outputsite" class="tab-pane row row-lg">
        <div class="panel-body">
            <div id="Table_Toolbar">
                <div class="btn-group hidden-xs" role="group">
                    <button type="button" class="btn btn-outline btn-primary" id="NewData">
                        <i class="glyphicon glyphicon-plus" aria-hidden="true"></i><lan set-lan="html:New"> New</lan>
                    </button>
                    <!--<button type="button" class="btn btn-outline btn-primary" id="EditData">
                        <i class="glyphicon glyphicon-pencil" aria-hidden="true"></i><lan set-lan="html:EditData"> Edit</lan>
                    </button>
                    <button type="button" class="btn btn-outline btn-primary" id="DeleteData">
                        <i class="glyphicon glyphicon-pencil" aria-hidden="true"></i><lan set-lan="html:DeleteData"> Delete</lan>
                    </button>-->
                    <button type="button" class="btn btn-outline btn-primary" id="RefreshData">
                        <i class="glyphicon glyphicon-refresh" aria-hidden="true"></i><lan set-lan="html:Refresh"> Refresh</lan>
                    </button>
                </div>
            </div>
            <table id="Datasite" class="table table-condensed"></table>
        </div>
    </div>
    <!--AddServer start-->
    <div role="form" id="Newsite" hidden="hidden" style="font-size: 12px!important; width: 96%;font-family: serif" class="form-horizontal col-xs-12" lay-filter="Newsite">
        <div class="col-xs-12">
            <fieldset id="outputfield" class="layui-elem-field col-xs-12">
                <legend class="legend"><span class="layui-badge layui-bg-cyan" style="font-size: 5px;">Head:</span></legend>
                <br />
                <input type="hidden" class="form-control form-data" name="ID" id="ID" set-lan="attr:placeholder=ID" />
                <div class="form-group col-xs-12 layui-form-item">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:ID">PONUMBER <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <input type="text" class="form-control form-data" name="PONUMBER" id="PONUMBER" set-lan="attr:placeholder=PONUMBER" />
                        </div>
                    </div>
                    <!--<div class="col-xs-6 layui-form" id="POCANCELSITE" hidden="hidden">
                        <label class="col-xs-6 control-label" set-lan="html:ID"> </label>
                        <div class="col-xs-6 ">
                            <input type="checkbox" class="form-control form-data currentformcontrol" name="POCANCEL" id="POCANCEL" lay-filter="POCANCEL" title="POCANCEL">
                        </div>
                    </div>-->
                </div>
                <div class="form-group col-xs-12 layui-form-item">
                    <!--<div class="col-xs-6">
                        <label class="col-xs-6 control-label" set-lan="html:ID">PONUMBER <span class="mustflag">*</span> :</label>
                        <div class="col-xs-6">
                            <input type="text" class="form-control form-data" name="PONUMBER" id="PONUMBER" set-lan="attr:placeholder=PONUMBER" />
                        </div>
                    </div>-->
                    <div class="col-xs-12 layui-form" id="POCANCELSITE" hidden="hidden">
                        <label class="col-xs-6 control-label" set-lan="html:ID"> </label>
                        <div class="col-xs-6 "  style="text-align:right;">
                            <input type="checkbox" class="form-control form-data currentformcontrol" name="POCANCEL" id="POCANCEL" lay-filter="POCANCEL" title="POCANCEL">
                        </div>
                    </div>
                </div>
                <div class="form-group col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:Skuno">ITEM <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <select class="form-control form-data currentformcontrol" name="ITEM" id="ITEM" lay-filter="ITEM" disabled>
                                
                            </select>
                        </div>
                    </div>
                    <!--<div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">SALESORDERNUMBER <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="SALESORDERNUMBER" set-lan="attr:placeholder=SALESORDERNUMBER" readonly />
            </div>
        </div>-->
                </div>
                <div class="form-group col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:OS">ADDRESS <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <select class="form-control form-data currentformcontrol" name="ADDRESSCOMMIT" id="ADDRESSCOMMIT" lay-filter="ADDRESSCOMMIT" disabled>
                                <option Value="EIMILFGI (MILPITAS)">EIMILFGI (MILPITAS)</option>
                                <option Value="EIAMSBONDFGI (AMSTERDAM)">EIAMSBONDFGI (AMSTERDAM)</option>
                                <option Value="EIHKFGI (HONG KONG)">EIHKFGI (HONG KONG)</option>
                            </select>
                        </div>
                    </div>
                </div>
                <!--<div class="form-group  col-xs-12">
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">HEADERSCHEDULINGSTATUS <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="HEADERSCHEDULINGSTATUS" set-lan="attr:placeholder=HEADERSCHEDULINGSTATUS" readonly />
            </div>
        </div>
    </div>-->
                <!--<div class="form-group  col-xs-12">
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">COMPLETEDELIVERY <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="COMPLETEDELIVERY" set-lan="attr:placeholder=COMPLETEDELIVERY" readonly />
                <select class="form-control form-data currentformcontrol" name="COMPLETEDELIVERY" id="COMPLETEDELIVERY" lay-filter="COMPLETEDELIVERY" disabled>
                    <option Value="NA">NA</option>
                    <option Value="X">X</option>
                </select>
            </div>
        </div>
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">ECO_FCO :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="ECO_FCO" set-lan="attr:placeholder=ECO_FCO" readonly />
            </div>
        </div>
    </div>-->
            </fieldset>
        </div>
        <div class="col-xs-12">
            <fieldset id="outputfield" class="layui-elem-field col-xs-12">
                <legend class="legend"><span class="layui-badge layui-bg-cyan" style="font-size: 5px;">Item:</span></legend>
                <br />
                <input type="hidden" class="form-control form-data" name="ID" id="ID" set-lan="attr:placeholder=ID" />
                <div class="form-group  col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:OS">PN <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <input type="text" class="form-control form-data" name="PN" set-lan="attr:placeholder=PN" readonly />
                        </div>
                    </div>
                </div>
                <div class="form-group  col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:OS">BASEQUANTITY <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <input type="text" class="form-control form-data" name="BASEQUANTITY" set-lan="attr:placeholder=BASEQUANTITY" readonly />
                        </div>
                    </div>
                    <!--<div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">SALESORDERLINEITEM <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="SALESORDERLINEITEM" set-lan="attr:placeholder=SALESORDERLINEITEM" readonly />
            </div>
        </div>-->
                </div>
                <div class="form-group  col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:OS">PODELIVERYDATE <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <input type="text" class="form-control form-data currentformcontrol" name="PODELIVERYDATE" id="PODELIVERYDATE" lay-filter="PODELIVERYDATE" set-lan="attr:placeholder=PODELIVERYDATE" readonly />
                        </div>
                    </div>
                    <!--<div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">SOID <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="SOID" set-lan="attr:placeholder=SOID" readonly />
            </div>
        </div>-->
                </div>
                <div class="form-group  col-xs-12">
                    <div class="col-xs-12">
                        <label class="col-xs-4 control-label" set-lan="html:OS">NETPRICE <span class="mustflag">*</span> :</label>
                        <div class="col-xs-8">
                            <input type="text" class="form-control form-data currentformcontrol" name="NETPRICE" id="NETPRICE" lay-filter="NETPRICE" set-lan="attr:placeholder=NETPRICE" readonly />
                        </div>
                    </div>
                </div>
                <!--<div class="form-group  col-xs-12">
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">CARTONLABEL1:</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="CARTONLABEL1" set-lan="attr:placeholder=CARTONLABEL1" readonly />
            </div>
        </div>
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:Type">CARTONLABEL2:</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="CARTONLABEL2" set-lan="attr:placeholder=CARTONLABEL2" readonly />
            </div>
        </div>
    </div>-->
                <!--<div class="form-group  col-xs-12">
        <div class="col-xs-6">
            <label class="col-xs-6 control-label" set-lan="html:OS">SALESORDERHOLD <span class="mustflag">*</span> :</label>
            <div class="col-xs-6">
                <input type="text" class="form-control form-data" name="SALESORDERHOLD" set-lan="attr:placeholder=SALESORDERHOLD" readonly />
            </div>
        </div>
    </div>-->
                <div class="form-group  col-xs-12">
                </div>
                <div class="hr-line-dashed col-xs-12"></div>
                <div class="form-group col-xs-12">
                    <div class="col-xs-12">
                        <button type="submit" class="btn btn-primary btn-block" name="savebtn" id="SaveData"><i class="fa fa-pencil"></i> <lan set-lan="html:BtnSave">Save</lan></button>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
    <!--AddServer end-->
    <!-- 全局js -->
    <script src="../../../../Scripts/plugins/jquery/jquery.min.js?v=2.1.4"></script>
    <script src="../../../../Scripts/plugins/bootstrap/bootstrap.min.js?v=3.3.6"></script>
    <script src="../../../../Scripts/plugins/bootstrapvalidator/bootstrapValidator5.js"></script>
    <!-- 第三方插件 -->
    <script src="../../../../Scripts/plugins/jquery-ui/jquery-ui.js"></script>
    <script src="../../../../Scripts/plugins/bootstrapTable/bootstrap-table.min.js"></script>
    <script src="../../../../Scripts/plugins/sweetalert/sweetalert.min.js"></script>
    <script src="../../../../Scripts/plugins/layui/layui.js"></script>
    <script src="../../../../Scripts/plugins/layer/layer.min.js"></script>
    <script src="../../../../Scripts/global.js"></script>
    <script src="../../../../Scripts/MesClient.UI.js"></script>
    <script src="../../../../Scripts/MesClient.js"></script>
    <script type="text/javascript">
        layui.use(['form', 'laydate'], function () {
            var client = self.parent.client;
            var loadindex = 0;
            var laydate = layui.laydate;
            var form = layui.form;
            $('#ITEM').empty();
            $('#ITEM').append($('<option Value="">Pls Choose</option>'));
            for (var i = 1; i <= 50; i++) {
                var v = i + "0";
                v = v.padStart(5, "0");
                $("#ITEM").append($('<option Value="' + v + '" > ' + v + '</option>'));
            }
            form.render('select');
            var datacontent = "PONUMBER,ECO_FCO,CARTONLABEL1,CARTONLABEL2,SALESORDERNUMBER,COMPLETEDELIVERY,PN,BASEQUANTITY,PODELIVERYDATE,ITEM,SALESORDERLINEITEM,SOID,ADDRESSCOMMIT,NETPRICE".split(",");
            $("#SaveData").on("click", function () {
                $("#Newsite").data("bootstrapValidator").validate();//手动触发全部验证
                var flag = $("#Newsite").data("bootstrapValidator").isValid();//获取当前表单验证状态
                if (flag) {//验证通过
                    //提交表单数据
                    client.CallFunction("MESJuniper.Api.OrderManager", "CreateDoaOrder", getformobj("Newsite"), function (e) {
                        if (e.Status == "Pass") {
                            layer.msg("OK!", {
                                icon: 1,
                                time: 1500
                            }, function () {
                                //clearsitevalue("Newsite");
                                LoadSoList();
                                layer.closeAll();
                            });
                        }
                        else {
                            layer.msg(e.Message, {
                                icon: 2,
                                time: 3000
                            }, function () {
                                LoadSoList();
                            });
                        }
                    });
                }
            });
            $("#PONUMBER").keypress(function (event) {
                if (event.keyCode == 13) {
                    $('#ITEM').removeAttr("disabled");
                }
            });
            $('#ITEM').change(function (event) {
                loadindex = layer.load(0, { shade: [0.9, '#393d49'] });
                var ponumber = $('#Newsite').find("input[name=PONUMBER]").val();
                var item = $('#Newsite').find("select[name=ITEM]").val();
                client.CallFunction("MESJuniper.Api.OrderManager", "Get137HByPoLine", { PONUMBER: ponumber, ITEM: item }, function (e) {
                    if (e.Status == "Pass") {
                        ControlFormReadonly(datacontent, false);
                        ControlFormReadonly(["PONUMBER"], true);
                        $('#ITEM').attr("disabled", "disabled");
                        $('#COMPLETEDELIVERY').removeAttr("disabled");
                        $('#ADDRESSCOMMIT').removeAttr("disabled");
                        $('#Newsite').find("input[name=POCANCEL]").attr("checked", false);
                        setformobj("Newsite", e.Data);
                        if (e.Data != null) 
                            $('#POCANCELSITE').show();
                        form.render('checkbox');
                    } else {
                        layer.alert(e.Data, { icon: 5 });
                        clearsitevalue("Newsite", [""]);
                        $('#Newsite').data('bootstrapValidator').resetForm(true);
                    }
                    layer.close(loadindex);
                });

            });
            form.on('checkbox(POCANCEL)', function (data) {
                if (this.checked) {
                    layer.tips('You chose PoCancel.Pls confirm!', data.othis);
                    ControlFormReadonly(datacontent, true);
                }
                else {
                    layer.tips('You will do the PoChange!', data.othis);
                    ControlFormReadonly(datacontent, false);
                    ControlFormReadonly(["PONUMBER"], true);
                }
            });
            $("#RefreshData").on("click", function () {
                LoadSoList();
            });
            $("#NewData").on("click", function () {
                setlaydate("PODELIVERYDATE");
                //$('#Newsite').find("input[name=POCANCEL]").toggle();
                layer.open({
                    type: 1,
                    title: 'Create DOA Order',
                    scrollar: false,
                    skin: 'layui-layer-rim', //加上边框
                    area: ['35%', '78%'], //宽高
                    offset: 't',
                    content: $("#Newsite"),
                    success: function (layero, index) {
                        clearsitevalue("Newsite", ["SKUNO"]);
                        $('#Newsite').data('bootstrapValidator').resetForm(true);
                        $('#POCANCELSITE').hide();
                        $('#ITEM').attr("disabled", "disabled");
                        $('#COMPLETEDELIVERY').attr("disabled", "disabled");
                    },
                    end: function () {
                        clearsitevalue("Newsite", [""]);
                        $('#Newsite').data('bootstrapValidator').resetForm(true);
                        ControlFormReadonly(datacontent, true);
                        ControlFormReadonly(["PONUMBER"], false);
                    }
                });
            });
            $("#Newsite").bootstrapValidator({
                excluded: [':disabled', ':hidden', ':not(:visible)'],
                feedbackIcons: {
                    valid: 'glyphicon glyphicon-ok',
                    invalid: 'glyphicon glyphicon-remove',
                    validating: 'glyphicon glyphicon-refresh'
                },
                live: 'enabled',
                message: 'This value is not valid',
                fields: {}
            });
            $("#EditData").on("click", function () {
                var selRows = $('#Datasite').bootstrapTable('getSelections');
                if (selRows.length <= 0) {
                    layer.msg("no records selected", {
                        icon: 2,
                        time: 1500
                    }, function () {
                    });
                    return;
                }
                else if (selRows.length > 1) {
                    layer.msg("Too many records selected", {
                        icon: 2,
                        time: 1500
                    }, function () {
                    });
                    return;
                }
                layer.open({
                    type: 1,
                    title: 'Edit',
                    scrollar: false,
                    skin: 'layui-layer-rim', //加上边框
                    area: ['30%', '60%'], //宽高
                    content: $("#Newsite"),
                    success: function (layero, index) {
                        setformobj("Newsite", selRows[0]);
                    },
                    end: function () {
                        clearsitevalue("Newsite", ["SKUNO"]);
                    }
                });
            });
            $("#DeleteData").on("click", function () {
                var selRows = $('#Datasite').bootstrapTable('getSelections');
                if (selRows.length <= 0) {
                    layer.msg("no records selected", {
                        icon: 2,
                        time: 1500
                    }, function () {
                    });
                    return;
                }
                var dellist = [];
                for (var i = 0; i < selRows.length; i++)
                    dellist.push(selRows[i].ID);
                //提交表单数据
                client.CallFunction("MESStation.Api", "Del", { Ids: dellist }, function (e) {
                    if (e.Status == "Pass") {
                        layer.msg("OK!", {
                            icon: 1,
                            time: 1500
                        }, function () {
                            //clearsitevalue("Newsite");
                            layer.close(layer.index - 1);
                            LoadSoList();
                        });
                    }
                    else {
                        layer.msg(e.Message, {
                            icon: 2,
                            time: 3000
                        }, function () {
                        });
                    }
                });

            });
            var Initvalidator = function () {
                addNotEmptyValid(datacontent.slice(0).splice(4, datacontent.length));
            }
            var ShowListTable = function (data) {
                var col = [];
                if (data.length > 0) {
                    var row = data[0];
                    //col.push({
                    //    title: '<label set-lan="html:SELECT">SELECT</label>',
                    //    checkbox: true
                    //});
                    for (var item in row) {
                        if (item == "DESCRIPTION")
                            col.push({
                                field: item,
                                title: item,
                                align: 'center',
                                valign: 'middle',
                                width: 450
                            });
                        else if ("REV,CLEI_CODE,CS_FLAG,HIDDEN_BOM".indexOf(item) > -1)
                            col.push({
                                field: item,
                                title: item,
                                align: 'center',
                                valign: 'middle',
                                width: 50
                            });
                        else
                            col.push({
                                field: item,
                                title: item,
                                align: 'center',
                                valign: 'middle',
                                sortable: true
                            });
                    }
                }
                $('#Datasite').bootstrapTable('destroy');
                $('#Datasite').bootstrapTable({
                    data: data,
                    striped: true,
                    pagination: true,
                    clickToSelect: true,
                    search: true,
                    searchOnEnterKey: true,
                    trimOnSearch: true,
                    toolbar: "#Table_Toolbar",
                    showRefresh: true,
                    fixedColumns: true,
                    fixedNumber: 3,
                    showExport: true,                   //是否显示导出     exportTypes: ['xlsx', 'excel'],  //导出文件类型  
                    exportDataType: "all",             //basic', 'all', 'selected'.
                    exportOptions: {
                        fileName: 'DataList',  //文件名称设置  
                        worksheetName: 'sheet1',  //表格工作区名称  
                        tableName: 'DataList'
                        //excelstyles: ['background-color', 'color', 'font-size', 'font-weight', 'border-top']
                    },
                    exportTypes: ['txt', 'sql', 'doc', 'excel'],  //导出文件类型
                    columns: col
                });
                $('#outputsite').find("[name='refresh']").unbind("click");
                $('#outputsite').find("[name='refresh']").bind("click", {}, function (event) {
                    LoadSoList();
                });
                //$('#Datasite').bootstrapTable('hideColumn', "ID"); //tableTest3为table的ID
            }
            var LoadSoList = function () {
                loadindex = layer.load(0, { shade: [0.9, '#393d49'] });
                client.CallFunction("MESJuniper.Api.OrderManager", "GetDoaOrder", {}, function (e) {
                    if (e.Status == "Pass") {
                        ShowListTable(e.Data);
                        //去掉導出數據按鈕的左上左下圓角
                        $("lan:contains('Export Data')").parent().css({ 'border-top-left-radius': '0', 'border-bottom-left-radius': '0' });
                    } else {
                        ShowListTable([]);
                        swal({
                            title: "",
                            text: e.Message,
                            type: "warning",
                            timer: 2000,
                            showConfirmButton: false
                        });
                        //return;
                    }
                    layer.close(loadindex);
                });
            }
            var getformobj = function (siteid) {
                var objres = {};
                for (var i = 0; i < $("#" + siteid + " .form-data").length; i++) {
                    if ($("#" + siteid + " .form-data")[i].type == "radio" && $("#" + siteid + " .form-data:checked")[i] != undefined)
                        objres[$("#" + siteid + " .form-data")[i].name] = $(':radio[name=' + $("#" + siteid + " .form-data")[i].name + ']:checked').val();
                    else if ($("#" + siteid + " .form-data")[i].type == "radio" && !$("#" + siteid + " .form-data")[i].checked)
                        continue;
                    else if ($("#" + siteid + " .form-data")[i].type == "checkbox")
                        objres[$("#" + siteid + " .form-data")[i].name] = $("#" + siteid + " .form-data")[i].checked;
                    else
                        objres[$("#" + siteid + " .form-data")[i].name] = $("#" + siteid + " .form-data")[i].value;
                }
                return objres;
            }
            var addNotEmptyValid = function (files) {
                for (var i = 0; i < files.length; i++)
                    $("#Newsite").data('bootstrapValidator').addField(files[i], {
                        validators: {
                            notEmpty: {}
                        }
                    });
            }
            var setformobj = function (formid, objdata) {
                for (var i = 0; i < $("#" + formid + " .form-data").length; i++) {
                    for (let k in objdata) {
                        if ($("#" + formid + " .form-data")[i].name === k) {
                            if (typeof objdata[k] == 'object' && objdata[k] != null) {
                                $("#" + formid + " .form-data")[i].setAttribute("placeholder", objdata[k]["placeholder"]);
                                $("#" + formid + " .form-data")[i].value = objdata[k]["value"];
                            } else {
                                $("#" + formid + " .form-data")[i].value = objdata[k];
                                //if (objdata[k] != "") {
                                //    $("#" + formid + " .form-data")[i].setAttribute("disabled", "disabled");
                                //}
                            }
                        }
                    }
                }
            }
            var clearsitevalue = function (siteid, unsetobj) {
                for (var i = 0; i < $("#" + siteid + " .form-data").length; i++) {
                    if (unsetobj === undefined || unsetobj.indexOf($("#" + siteid + " .form-data")[i].name) === -1) {
                        if ($("#" + siteid + " .form-data")[i].type === "text" || $("#" + siteid + " .form-data")[i].type === "hidden")
                            $("#" + siteid + " .form-data")[i].value = "";
                        else if ($("#" + siteid + " .form-data")[i].type === "select-one")
                            $("#" + siteid + " .form-data")[i].value = $("#" + siteid + " .form-data")[i].options[0].value;
                    }
                }
            }
            var setlaydate = function (filesc) {
                laydate.render({
                    elem: '#' + filesc, trigger: 'click', done: function (value, date, endDate) {
                        var thiscol = filesc;
                        $('#Newsite').data('bootstrapValidator').updateStatus(thiscol, 'NOT_VALIDATED', null);
                    }
                });
            }
            var ControlFormReadonly = function (inputsname, issetreadonly) {
                for (var i = 0; i < inputsname.length; i++) {
                    if (!issetreadonly)
                        $('#Newsite').find("input[name=" + inputsname[i] + "]").removeAttr("readonly");
                    else
                        $('#Newsite').find("input[name=" + inputsname[i] + "]").attr("readonly", "readonly");
                }
            }
            var init = function () {
                LoadSoList();
                Initvalidator();
            }
            init();
        });
    </script>
</body>
</html>
